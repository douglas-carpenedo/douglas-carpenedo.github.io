<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <!-- Google Tag Manager -->
    <script>
        (function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-MXPST68S');</script>
    <!-- End Google Tag Manager -->
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-T1F4ZKE2V6"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-T1F4ZKE2V6');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tabela cClassTrib</title>
    <link rel="stylesheet" href="cclasstrib.css">
    <link rel="shortcut icon" href="favicon.png">

    <script type="text/javascript">
        (function (c, l, a, r, i, t, y) {
            c[a] = c[a] || function () { (c[a].q = c[a].q || []).push(arguments) };
            t = l.createElement(r); t.async = 1; t.src = "https://www.clarity.ms/tag/" + i;
            y = l.getElementsByTagName(r)[0]; y.parentNode.insertBefore(t, y);
        })(window, document, "clarity", "script", "sq5q79f5nt");
    </script>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript>
        <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MXPST68S"
                height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div class="classtrib-container">
        <div class="classtrib-main" role="region">
            <div class="classtrib-header">
                <h1>Tabela de Indicadores do cClassTrib</h1>
                <p>Código de Classificação Tributária</p>
                <div class="developer-info">
                    <span class="developer-contact-label">Fale com o desenvolvedor:</span>
                    <a href="mailto:douglas.carpenedo@gmail.com" class="developer-email">douglas.carpenedo@gmail.com</a>
                    <a href="https://www.linkedin.com/in/douglas-carpenedo" target="_blank" class="developer-linkedin">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/c/ca/LinkedIn_logo_initials.png" alt="LinkedIn" class="linkedin-icon">
                        LinkedIn
                    </a>
                </div>
            </div>

            <div class="classtrib-filters">
                <div class="classtrib-filter-row">
                    <div class="classtrib-filter-group">
                        <label for="codCst">Código CST</label>
                        <select id="codCst" aria-label="Filtrar por CST" required>
                            <option value="">Selecione..</option>
                            <option value="000">000 - Tributação integral</option>
                            <option value="010">010 - Tributação com alíquotas uniformes</option>
                            <option value="011">011 - Tributação com alíquotas uniformes reduzidas</option>
                            <option value="200">200 - Alíquota reduzida</option>
                            <option value="210">210 - Redução de alíquota com redutor de base de cálculo</option>
                            <option value="220">220 - Alíquota fixa</option>
                            <option value="221">221 - Alíquota fixa proporcional</option>
                            <option value="400">400 - Isenção</option>
                            <option value="410">410 - Imunidade e não incidência</option>
                            <option value="510">510 - Diferimento</option>
                            <option value="550">550 - Suspensão</option>
                            <option value="620">620 - Tributação monofásica</option>
                            <option value="800">800 - Transferência de crédito</option>
                            <option value="810">810 - Ajustes</option>
                            <option value="820">820 - Tributação em declaração de regime específico</option>
                            <option value="830">830 - Exclusão de base de cálculo</option>
                        </select>
                    </div>
                    <div class="classtrib-filter-group">
                        <label for="cClassTrib">Código ClassTrib</label>
                        <input type="text" id="cClassTrib" placeholder="Ex: 000001" aria-label="Filtrar por Código do cClassTrib" required>
                    </div>
                    <div class="classtrib-filter-group" id="divNomeClassTrib">
                        <label for="nomeClassTrib">Nome ClassTrib</label>
                        <input type="text" id="nomeClassTrib" placeholder="Digite para buscar..." aria-label="Filtrar por Descrição do cClassTrib" required>
                    </div>
                    <div class="classtrib-filter-group">
                        <label for="numArtigo">Nro. Artigo (LC 214/25)</label>
                        <input type="text" id="numArtigo" placeholder="Ex: 5, 20" aria-label="Filtrar por Número do Artigo da LC 214/25" required>
                    </div>
                    <button class="classtrib-clear-filters" onclick="clearAllFilters()" aria-label="Limpar Filtros">Limpar Filtros</button>
                </div>

                <div class="classtrib-checkbox-filters">
                    <div class="filter-section">
                        <h3>Indicadores do CST</h3>
                        <div class="classtrib-filter-group" id="divTipoTrib">
                            <label for="tipoTrib">Tipo de Tributação</label>
                            <select id="tipoTrib" aria-label="Filtrar por Tipo de Tributação" required>
                                <option value="">Todos</option>
                                <option value="1">IBSCBS (ind_gIBSCBS = 1)</option>
                                <option value="2">Monofásica (ind_gIBSCBSMono = 1)</option>
                                <option value="3">Transf. Crédito (ind_gTransfCred = 1)</option>
                                <option value="9">Sem Tributação (todos indicadores = 0)</option>
                            </select>
                        </div>
                        <div class="classtrib-checkbox-group">
                            <input type="checkbox" id="ind_gDif">
                            <label for="ind_gDif">Diferimento (ind_gDif = 1)</label>
                        </div>
                        <div class="classtrib-checkbox-group">
                            <input type="checkbox" id="ind_gRed">
                            <label for="ind_gRed">Red. Alíquota (ind_gRed = 1)</label>
                        </div>
                    </div>
                    <div class="filter-section">
                        <h3>Indicadores do cClassTrib</h3>
                        <div class="classtrib-checkbox-group">
                            <input type="checkbox" id="pRedIBS_gt0">
                            <label for="pRedIBS_gt0">Red. IBS (pRedIBS > 0)</label>
                        </div>
                        <div class="classtrib-checkbox-group">
                            <input type="checkbox" id="pRedCBS_gt0">
                            <label for="pRedCBS_gt0">Red. CBS (pRedCBS > 0)</label>
                        </div>
                        <div class="classtrib-checkbox-group">
                            <input type="checkbox" id="indRedutorBc">
                            <label for="indRedutorBc">Red. BC (indRedutorBc = 1)</label>
                        </div>
                        <div class="classtrib-checkbox-group">
                            <input type="checkbox" id="indTribRegular">
                            <label for="indTribRegular">Tributação Regular (indTribRegular = 1)</label>
                        </div>
                        <div class="classtrib-checkbox-group">
                            <input type="checkbox" id="indCredPres">
                            <label for="indCredPres">Crédito Presumido (indCredPres = 1)</label>
                        </div>
                    </div>
                    <div class="filter-section">
                        <h3>Indicadores do cClassTrib / Trib. Monofásica</h3>
                        <div class="classtrib-checkbox-group">
                            <input type="checkbox" id="indMonoPadrao">
                            <label for="indMonoPadrao">Mono Padrão (indMonoPadrao = 1)</label>
                        </div>
                        <div class="classtrib-checkbox-group">
                            <input type="checkbox" id="indMonoReten">
                            <label for="indMonoReten">Mono Reten (indMonoReten = 1)</label>
                        </div>
                        <div class="classtrib-checkbox-group">
                            <input type="checkbox" id="indMonoRet">
                            <label for="indMonoRet">Mono Ret (indMonoRet = 1)</label>
                        </div>
                        <div class="classtrib-checkbox-group">
                            <input type="checkbox" id="indMonoDif">
                            <label for="indMonoDif">Mono Dif (indMonoDif = 1)</label>
                        </div>
                    </div>
                </div>

                <div class="filter-section">
                    <div id="dfeFilterToggleHeader" class="dfe-filter-toggle-header">
                        <h3>DF-e Permitidos<span class="dfe-filter-toggle-button arrow-down"></span></h3>
                    </div>
                    <div id="dfeFilterToggleContent" class="dfe-filter-toggle-content">
                        <div class="classtrib-checkbox-group">
                            <span class="dfe-item checkbox-dfe">
                                <input type="checkbox" id="indNFe">
                                <label for="indNFe">NF-e</label>
                            </span>
                        </div>
                        <div class="classtrib-checkbox-group">
                            <span class="dfe-item checkbox-dfe">
                                <input type="checkbox" id="indNFCe">
                                <label for="indNFCe">NFC-e</label>
                            </span>
                        </div>
                        <div class="classtrib-checkbox-group">
                            <span class="dfe-item checkbox-dfe">
                                <input type="checkbox" id="indCTe">
                                <label for="indCTe">CT-e</label>
                            </span>
                        </div>
                        <div class="classtrib-checkbox-group">
                            <span class="dfe-item checkbox-dfe">
                                <input type="checkbox" id="indCTeOS">
                                <label for="indCTeOS">CT-e OS</label>
                            </span>
                        </div>
                        <div class="classtrib-checkbox-group">
                            <span class="dfe-item checkbox-dfe">
                                <input type="checkbox" id="indBPe">
                                <label for="indBPe">BP-e</label>
                            </span>
                        </div>
                        <div class="classtrib-checkbox-group">
                            <span class="dfe-item checkbox-dfe">
                                <input type="checkbox" id="indBPeTM">
                                <label for="indBPeTM">BP-e TM</label>
                            </span>
                        </div>
                        <div class="classtrib-checkbox-group">
                            <span class="dfe-item checkbox-dfe">
                                <input type="checkbox" id="indNF3e">
                                <label for="indNF3e">NF3-e</label>
                            </span>
                        </div>
                        <div class="classtrib-checkbox-group">
                            <span class="dfe-item checkbox-dfe">
                                <input type="checkbox" id="indNFCom">
                                <label for="indNFCom">NFCom</label>
                            </span>
                        </div>
                        <div class="classtrib-checkbox-group">
                            <span class="dfe-item checkbox-dfe">
                                <input type="checkbox" id="indNFSe">
                                <label for="indNFSe">NFS-e</label>
                            </span>
                        </div>
                    </div>
                </div>

            </div>

            <div class="classtrib-results-info">
                <div>
                    <span id="resultsCount" aria-live="polite">Exibindo 0 registros</span><br />
                    <span id="infoData">Dados da tabela cClassTrib publicada em <strong>18/06/2025</strong> no <a id="urlNfe" href="https://www.nfe.fazenda.gov.br/" target="_blank">Portal Nacional NFE</a>.</span>
                </div>
                <div class="legend-container">
                    <div class="legend-items">
                        <div class="legend-item">
                            <span class="classtrib-indicator active">✓</span>
                            <span class="legend-text">Exigido</span>
                        </div>
                        <div class="legend-item">
                            <span class="classtrib-indicator inactive">X</span>
                            <span class="legend-text">Não permite</span>
                        </div>
                        <div class="legend-item">
                            <span class="classtrib-indicator allow">✓</span>
                            <span class="legend-text">Permite, mas não exige</span>
                        </div>
                    </div>
                </div>

                <div class="classtrib-export-section">
                    <span>Exportar:</span>
                    <button id="btnExportCsv" class="classtrib-export-btn" onclick="exportToCSV()" aria-label="Exportar para CSV">
                        📄 CSV
                    </button>
                    <button id="btnExportExcel" class="classtrib-export-btn excel" onclick="exportToExcel()" aria-label="Exportar para Excel">
                        📊 Excel
                    </button>
                    <button id="btnExportJson" class="classtrib-export-btn json" onclick="exportToJSON()" aria-label="Exportar para JSON">
                        📋 JSON
                    </button>
                </div>
            </div>

            <div class="classtrib-table-container">
                <div class="classtrib-table-wrapper">
                    <table id="dataTable" class="classtrib-table">
                        <thead id="dataTableHeaders">
                            <tr>
                                <th rowspan="2" scope="col" class="expand-column"></th>
                                <th rowspan="2" scope="col" class="sortable gtm-sort-cst" data-sort-by="codCst" data-sort-type="string" aria-label="Ordenar por Código CST">CST <span class="sort-icon gtm-sort-cst"></span></th>
                                <th rowspan="2" scope="col" class="sortable gtm-sort-cClassTrib" data-sort-by="cClassTrib" data-sort-type="string" aria-label="Ordenar por Código cClassTrib">cClassTrib <span class="sort-icon gtm-sort-cClassTrib"></span></th>
                                <th rowspan="2" scope="col" class="border-right-strong sortable gtm-sort-nomeClassTrib" data-sort-by="nomeClassTrib" data-sort-type="string" aria-label="Ordenar por Descrição do cClassTrib">Descrição cClassTrib <span class="sort-icon gtm-sort-nomeClassTrib"></span></th>
                                <th colspan="3" scope="col" class="border-right-strong">Indicadores do CST</th>
                                <th colspan="9" scope="col" class="border-right-strong">Indicadores do cClassTrib</th>
                                <th rowspan="2" scope="col" class="sortable gtm-sort-lc" data-sort-by="LC_214_25" data-sort-type="string" aria-label="Ordenar por Artigo da LC 214/25">LC<br />214/25 <span id="sort-icon-lc" class="sort-icon gtm-sort-lc"></span></th>
                            </tr>
                            <tr>
                                <th><span class="tooltip" tooltip-data="Tipo de Tributação">Trib.</span></th>
                                <th><span class="tooltip" tooltip-data="Diferimento">gDif</span></th>
                                <th class="border-right-strong"><span class="tooltip" tooltip-data="Redução de Alíquota">gRed</span></th>
                                <th><span class="tooltip" tooltip-data="Redução da Alíquota do IBS">Red.<br />IBS</span></th>
                                <th><span class="tooltip" tooltip-data="Redução da Alíquota da CBS">Red.<br />CBS</span></th>
                                <th><span class="tooltip" tooltip-data="Redução da Base de Cálculo">Red.<br />BC</span></th>
                                <th><span class="tooltip" tooltip-data="Tributação Regular">Trib.<br />Regular</span></th>
                                <th><span class="tooltip" tooltip-data="Crédito Presumido">Cred.<br />Pres.</span></th>
                                <th><span class="tooltip" tooltip-data="Tributação Monofásica Padrão">Mono<br />Padrão</span></th>
                                <th><span class="tooltip" tooltip-data="Tributação Monofásica Sujeita a Retenção">Mono<br />Reten.</span></th>
                                <th><span class="tooltip" tooltip-data="Tributação Monofásica Retida Anteriormente">Mono<br />Ret.</span></th>
                                <th class="border-right-strong"><span class="tooltip" tooltip-data="Tributação Monofásica Diferida">Mono<br />Dif.</span></th>
                            </tr>
                        </thead>
                        <tbody id="tableBody">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script src="cache_cClassTrib.js"></script>
    <script src="cclasstrib.js"></script>
</body>
</html>